# 单元测试

## 1.mocha chai
- mocha: node.js 测试框架；
- chai: node.js BDD / TDD 断言库
- 断言库 should : https://github.com/tj/should.js
- 使用测试率覆盖工具 istanbul : https://github.com/gotwarlost/istanbul
- 简单 Makefile 的编写 : http://blog.csdn.net/haoel/article/details/2886


###  chai Assertion Styles

>Assert

- 参考：https://www.chaijs.com/guide/styles/
```
var assert = require('chai').assert
, foo = 'bar';

describe('type', function() {
  describe('typeOf', function() {
    it('should return string', function() {
      assert.typeOf(foo,'string')
    });
  });
});
==================================
var assert = require('chai').assert
  , foo = 'bar'
  , beverages = { tea: [ 'chai', 'matcha', 'oolong' ] };

assert.typeOf(foo, 'string'); // without optional message
assert.typeOf(foo, 'string', 'foo is a string'); // with optional message
assert.equal(foo, 'bar', 'foo equal `bar`');
assert.lengthOf(foo, 3, 'foo`s value has a length of 3');
assert.lengthOf(beverages.tea, 3, 'beverages has 3 types of tea');
```


>BDD 

```
var expect = require('chai').expect // 引入Chai

describe('Array', function() {
  describe('#indexOf()', function() {
    it('should return -1 when the value is not present', function() {
      // assert.equal([1,2,3].indexOf(4), -1); // node 自带的断言库
      expect([1,2,3].indexOf(4)).to.equal(-1); // Chai expect 形式断言语句
    });
  });
});

=================================================

var expect = require('chai').expect
  , foo = 'bar'
  , beverages = { tea: [ 'chai', 'matcha', 'oolong' ] };

expect(foo).to.be.a('string');
expect(foo).to.equal('bar');
expect(foo).to.have.lengthOf(3);
expect(beverages).to.have.property('tea').with.lengthOf(3);
```

>Should

```
var should = require('chai').should() //actually call the function
  , foo = 'bar'
  , beverages = { tea: [ 'chai', 'matcha', 'oolong' ] };

foo.should.be.a('string');
foo.should.equal('bar');
foo.should.have.lengthOf(3);
beverages.should.have.property('tea').with.lengthOf(3);
```


## Karma：一个简单的工具,它允许你执行JavaScript代码在多个真实的浏览器

>主要目的是使你的测试驱动开发简单,快速和有趣,是一个配置测试环境的工具。可以通过配置选择不同的测试框架，将我们的测试代码运行的不同的浏览器上。

- https://github.com/karma-runner/karma
- chat: https://gitter.im/karma-runner/karma






## 参考

- https://github.com/tank0317/unit-test-demo
- https://github.com/mochajs/mocha
- https://github.com/chaijs/chai

- https://github.com/karma-runner/karma
